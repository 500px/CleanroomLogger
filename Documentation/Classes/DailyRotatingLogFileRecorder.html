<!DOCTYPE html>
<html lang="en">
  <head>
    <title>DailyRotatingLogFileRecorder Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
  </head>
  <body>
    <a name="//apple_ref/swift/Class/DailyRotatingLogFileRecorder" class="dashAnchor"></a>
    <a title="DailyRotatingLogFileRecorder Class Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">CleanroomLogger Docs</a> (100% documented)</p>
        <p class="header-right"><a href="https://github.com/emaloney/CleanroomLogger"><img src="../img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">CleanroomLogger Reference</a>
        <img id="carat" src="../img/carat.png" />
        DailyRotatingLogFileRecorder Class Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/DailyRotatingLogFileRecorder.html">DailyRotatingLogFileRecorder</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/FileLogRecorder.html">FileLogRecorder</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/LogReceptacle.html">LogReceptacle</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/LogRecorderBase.html">LogRecorderBase</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/LogSeverity.html">LogSeverity</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/LogConfiguration.html">LogConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/LogFilter.html">LogFilter</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/LogFormatter.html">LogFormatter</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/LogRecorder.html">LogRecorder</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Structs/ASLLogRecorder.html">ASLLogRecorder</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/DefaultLogConfiguration.html">DefaultLogConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/DefaultLogFormatter.html">DefaultLogFormatter</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Log.html">Log</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/LogChannel.html">LogChannel</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/LogEntry.html">LogEntry</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/LogSeverityFilter.html">LogSeverityFilter</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>DailyRotatingLogFileRecorder</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">DailyRotatingLogFileRecorder</span><span class="p">:</span> <span class="kt">LogRecorderBase</span></code></pre>

                </div>
              </div>
            <p>A <code><a href="../Protocols/LogRecorder.html">LogRecorder</a></code> implementation that maintains a set of daily rotating log
files, kept for a user-specified number of days.</p>

<p><strong>Important:</strong> The <code>DailyRotatingLogFileRecorder</code> is expected to have full
control over the <code>directoryPath</code> with which it was instantiated. Any file not
explicitly known to be an active log file may be removed during the pruning
process. Therefore, be careful not to store anything in the <code>directoryPath</code>
that you wouldn&rsquo;t mind being deleted when pruning occurs.</p>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:vC15CleanroomLogger28DailyRotatingLogFileRecorder10daysToKeepSi"></a>
                    <a name="//apple_ref/swift/Property/daysToKeep" class="dashAnchor"></a>
                    <a class="token" href="#/s:vC15CleanroomLogger28DailyRotatingLogFileRecorder10daysToKeepSi">daysToKeep</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The number of days for which the receiver will retain log files
before they&rsquo;re eligible for pruning.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">daysToKeep</span><span class="p">:</span> <span class="kt">Int</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:vC15CleanroomLogger28DailyRotatingLogFileRecorder13directoryPathSS"></a>
                    <a name="//apple_ref/swift/Property/directoryPath" class="dashAnchor"></a>
                    <a class="token" href="#/s:vC15CleanroomLogger28DailyRotatingLogFileRecorder13directoryPathSS">directoryPath</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The filesystem path to a directory where the log files will be
stored.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">directoryPath</span><span class="p">:</span> <span class="kt">String</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC15CleanroomLogger28DailyRotatingLogFileRecordercFMS0_FzT10daysToKeepSi13directoryPathSS10formattersGSaPS_12LogFormatter___S0_"></a>
                    <a name="//apple_ref/swift/Method/init(daysToKeep:directoryPath:formatters:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC15CleanroomLogger28DailyRotatingLogFileRecordercFMS0_FzT10daysToKeepSi13directoryPathSS10formattersGSaPS_12LogFormatter___S0_">init(daysToKeep:directoryPath:formatters:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Attempts to initialize a new <code><a href="../Classes/DailyRotatingLogFileRecorder.html">DailyRotatingLogFileRecorder</a></code> instance. This
may fail if the <code><a href="../Classes/DailyRotatingLogFileRecorder.html#/s:vC15CleanroomLogger28DailyRotatingLogFileRecorder13directoryPathSS">directoryPath</a></code> doesn&rsquo;t already exist as a directory and
could not be created.</p>

<p><strong>Important:</strong> The new <code><a href="../Classes/DailyRotatingLogFileRecorder.html">DailyRotatingLogFileRecorder</a></code> will take 
responsibility for managing the contents of the <code><a href="../Classes/DailyRotatingLogFileRecorder.html#/s:vC15CleanroomLogger28DailyRotatingLogFileRecorder13directoryPathSS">directoryPath</a></code>. As part
of the automatic pruning process, any file not explicitly known to be an
active log file may be removed. Be careful not to put anything in this
directory you might not want deleted when pruning occurs.</p>

<p>:param:     daysToKeep The number of days for which log files should be
            retained.</p>

<p>:param:     directoryPath The filesystem path of the directory where the
            log files will be stores.</p>

<p>:param:     formatters The <code><a href="../Protocols/LogFormatter.html">LogFormatter</a></code>s to use for the recorder.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="nv">daysToKeep</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">directoryPath</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">formatters</span><span class="p">:</span> <span class="p">[</span><span class="kt">LogFormatter</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="kt">DefaultLogFormatter</span><span class="p">()])</span> <span class="n">throws</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:ZFC15CleanroomLogger28DailyRotatingLogFileRecorder18logFilenameForDateFMS0_FCSo6NSDateSS"></a>
                    <a name="//apple_ref/swift/Method/logFilenameForDate(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:ZFC15CleanroomLogger28DailyRotatingLogFileRecorder18logFilenameForDateFMS0_FCSo6NSDateSS">logFilenameForDate(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a string representing the filename that will be used to store logs
recorded on the given date.</p>

<p>:param:     date The <code>NSDate</code> for which the log file name is desired.</p>

<p>:returns:   The filename.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kd">func</span> <span class="nf">logFilenameForDate</span><span class="p">(</span><span class="nv">date</span><span class="p">:</span> <span class="kt">NSDate</span><span class="p">)</span>
        <span class="o">-&gt;</span> <span class="kt">String</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC15CleanroomLogger28DailyRotatingLogFileRecorder22recordFormattedMessageFS0_FTSS11forLogEntryVS_8LogEntry12currentQueuePSo17OS_dispatch_queue_15synchronousModeSb_T_"></a>
                    <a name="//apple_ref/swift/Method/recordFormattedMessage(_:forLogEntry:currentQueue:synchronousMode:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC15CleanroomLogger28DailyRotatingLogFileRecorder22recordFormattedMessageFS0_FTSS11forLogEntryVS_8LogEntry12currentQueuePSo17OS_dispatch_queue_15synchronousModeSb_T_">recordFormattedMessage(_:forLogEntry:currentQueue:synchronousMode:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Called by the <code><a href="../Classes/LogReceptacle.html">LogReceptacle</a></code> to record the specified log message.</p>

<p><strong>Note:</strong> This function is only called if one of the <code>formatters</code> 
associated with the receiver returned a non-<code>nil</code> string.</p>

<p>:param:     message The message to record.</p>

<p>:param:     entry The <code><a href="../Structs/LogEntry.html">LogEntry</a></code> for which <code>message</code> was created.</p>

<p>:param:     currentQueue The GCD queue on which the function is being 
            executed.</p>

<p>:param:     synchronousMode If <code>true</code>, the receiver should record the
            log entry synchronously. Synchronous mode is used during
            debugging to help ensure that logs reflect the latest state
            when debug breakpoints are hit. It is not recommended for
            production code.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">override</span> <span class="kd">func</span> <span class="nf">recordFormattedMessage</span><span class="p">(</span><span class="nv">message</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="n">forLogEntry</span> <span class="nv">entry</span><span class="p">:</span> <span class="kt">LogEntry</span><span class="p">,</span> <span class="nv">currentQueue</span><span class="p">:</span> <span class="n">dispatch_queue_t</span><span class="p">,</span> <span class="nv">synchronousMode</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC15CleanroomLogger28DailyRotatingLogFileRecorder5pruneFS0_FT_T_"></a>
                    <a name="//apple_ref/swift/Method/prune()" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC15CleanroomLogger28DailyRotatingLogFileRecorder5pruneFS0_FT_T_">prune()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Deletes any expired log files (and any other detritus that may be hanging
around inside our <code><a href="../Classes/DailyRotatingLogFileRecorder.html#/s:vC15CleanroomLogger28DailyRotatingLogFileRecorder13directoryPathSS">directoryPath</a></code>).</p>

<p><strong>Important:</strong> The <code><a href="../Classes/DailyRotatingLogFileRecorder.html">DailyRotatingLogFileRecorder</a></code> is expected to have full
ownership over its <code><a href="../Classes/DailyRotatingLogFileRecorder.html#/s:vC15CleanroomLogger28DailyRotatingLogFileRecorder13directoryPathSS">directoryPath</a></code>. Any file not explicitly known to be an
active log file may be removed during the pruning process. Therefore, be
careful not to store anything in this directory that you wouldn&rsquo;t mind
being deleted when pruning occurs.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">prune</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>© 2015 <a class="link" href="http://tech.gilt.com/" target="_blank" rel="external">Gilt Groupe</a></p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.4.1</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
